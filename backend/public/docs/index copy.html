<html>
    <body>
        <pre><code># API Endpoints Summary

## Appointment Endpoints

### List & Retrieve
- `GET /api/appointments` - List all appointments with filters
- `GET /api/appointments/full/:id` - Get appointment with full data (payments, services, medical records)
- `GET /api/appointments/:id` - Get appointment details

### Today's Appointments
- `GET /api/appointments/today` - List all appointments for today
- `GET /api/appointments/vet/today` - List today's appointments for authenticated veterinarian

### Veterinarian-Specific
- `GET /api/appointments/vet/:vet_id` - List all appointments for a specific veterinarian
- `GET /api/appointments/vet/:id` - Get full appointment detail for vet (owner verification)

### User-Specific
- `GET /api/appointments/user/:user_id` - Get user's appointments (upcoming/history/all)

### Pet-Specific
- `GET /api/appointments/pet/:pet_id` - List all appointments for a specific pet

### Medical Data by Appointment
- `GET /api/appointments/:appointmentId/medical-data` - Get all medical records, prescriptions, lab tests, vaccinations for an appointment

### Booking & Management
- `POST /api/appointments` - Create new appointment
- `PATCH /api/appointments/:id/status` - Update appointment status
- `POST /api/appointments/:id/reschedule` - Reschedule appointment

### Payment
- `POST /api/appointments/:appointmentId/payment` - Process payment
- `GET /api/appointments/:appointmentId/payment` - Get payment info

---

## Medical Records Endpoints

### Medical Records
- `GET /api/medical-records/records` - List medical records with filters
- `GET /api/medical-records/records/:id` - Get specific medical record with related data
- `POST /api/medical-records/records` - Create medical record
- `PATCH /api/medical-records/records/:id` - Update medical record
- `DELETE /api/medical-records/records/:id` - Soft delete medical record

### Prescriptions
- `GET /api/medical-records/prescriptions` - List prescriptions with filters
- `GET /api/medical-records/prescriptions/active` - List active prescriptions
- `GET /api/medical-records/vet/prescriptions/active` - List vet's active prescriptions
- `GET /api/medical-records/prescriptions/:id` - Get prescription with medications
- `POST /api/medical-records/prescriptions` - Create prescription with medications
- `PATCH /api/medical-records/prescriptions/:id/status` - Update prescription status

### Lab Tests
- `GET /api/medical-records/lab-tests` - List lab tests with filters
- `GET /api/medical-records/lab-tests/pending` - List pending lab tests
- `GET /api/medical-records/vet/lab-tests/pending` - List vet's pending lab tests
- `GET /api/medical-records/lab-tests/:id` - Get specific lab test
- `POST /api/medical-records/lab-tests` - Create lab test order
- `PATCH /api/medical-records/lab-tests/:id/status` - Update lab test status with results

### Vaccinations
- `GET /api/medical-records/vaccinations` - List vaccinations with filters
- `GET /api/medical-records/vaccinations/:id` - Get specific vaccination record
- `POST /api/medical-records/vaccinations` - Create vaccination record
- `PATCH /api/medical-records/vaccinations/:id` - Update vaccination record
- `DELETE /api/medical-records/vaccinations/:id` - Soft delete vaccination record

### Follow-ups
- `GET /api/medical-records/follow-ups` - List medical records requiring follow-up
- `GET /api/medical-records/vet/follow-ups` - List vet's follow-up records

---

## Data Structure Examples

### Appointment Medical Data Response
```json
{
  "appointment_id": "uuid",
  "pet_id": "uuid",
  "veterinarian_id": "uuid",
  "medical_records": [
    {
      "id": "uuid",
      "record_type": "checkup",
      "record_date": "2026-01-31T15:55:01.503Z",
      "diagnosis": "Healthy",
      "symptoms": {...},
      "vital_signs": {...},
      "followup_required": true,
      "followup_date": "2026-07-31"
    }
  ],
  "prescriptions": [
    {
      "id": "uuid",
      "prescription_number": "RX-...",
      "prescription_date": "2026-01-31",
      "valid_until": "2026-03-01",
      "status": "active",
      "medications": [
        {
          "id": "uuid",
          "medication_name": "Amoxicillin",
          "dosage": "250mg",
          "frequency": "3 times daily",
          "duration": "7 days",
          "route": "oral"
        }
      ]
    }
  ],
  "lab_tests": [
    {
      "id": "uuid",
      "test_name": "Blood Test",
      "test_type": "hematology",
      "ordered_date": "2026-01-31",
      "status": "pending",
      "urgency": "routine",
      "results": null
    }
  ],
  "vaccinations": [
    {
      "id": "uuid",
      "vaccine_name": "Rabies",
      "vaccine_type": "rabies",
      "vaccination_date": "2026-01-31",
      "next_due_date": "2027-01-31",
      "certificate_issued": false
    }
  ]
}
```

---

## Query Parameters Reference

### Appointments Listing
- `page` - Page number (default: 1)
- `limit` - Records per page (default: 10)
- `status` - Filter by status (scheduled, confirmed, completed, cancelled, etc.)
- `date_from` - Filter appointments from this date
- `date_to` - Filter appointments until this date
- `veterinarian_id` - Filter by veterinarian
- `user_id` - Filter by user/owner
- `clinic_id` - Filter by clinic

### Medical Records Listing
- `page` - Page number
- `limit` - Records per page
- `pet_id` - Filter by pet
- `veterinarian_id` - Filter by veterinarian
- `record_type` - Filter by record type (consultation, surgery, vaccination, checkup, emergency, followup)
- `date_from` - Filter from date
- `date_to` - Filter until date

### Prescriptions/Lab Tests Listing
- `page` - Page number
- `limit` - Records per page
- `pet_id` - Filter by pet
- `status` - Filter by status
- `veterinarian_id` - Filter by veterinarian
- `test_type` - Filter lab tests by type (for lab tests only)

---

## Authentication
All endpoints require Bearer token in Authorization header:
```
Authorization: Bearer <jwt_token>
```

## New in This Update
✅ `GET /api/appointments/vet/:vet_id` - Fetch appointments by veterinarian
✅ `GET /api/appointments/pet/:pet_id` - Fetch appointments by pet
✅ `GET /api/appointments/:appointmentId/medical-data` - Fetch consolidated medical data for appointment

</code></pre></body>
        </html>